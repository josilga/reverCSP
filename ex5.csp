channel a, b

MAIN = R

R = (P [|{|a|}|]  Q)

-- P = (a -> b -> SKIP; P) |~| Q
P = (a -> b -> P) |~| Q

-- Q = (b -> a -> SKIP; R) |~| P
Q = (b -> a -> R) |~| P